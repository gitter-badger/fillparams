#!/usr/bin/env ruby
#
# test:
# ruby -Ilib bin/fill_params

require 'optparse'
require 'ostruct'
require 'config_manager'

options = OpenStruct.new
options.config_file = []
options.verbose = false

conf = ConfigManager.new('init.yml')

OptionParser.new do |opts|
  opts.banner = 'Usage: fill_params [-f config.yml] [-v]'
  
  opts.on("-i", "--init [INIT_FILE]",
    "provide init file", "(list of configuration files to fill in)") do |init|
    options.init_file = init
  end

  opts.on('-v', '--[no-]verbose', 'Run verbosely') do |v|
    options.verbose = v
  end
end.parse!

p options
p ARGV
